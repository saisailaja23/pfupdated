(function(a){var ax,aB,N,U,u,ac,ab,aa,n,Z,c,ah,r,af,al,s,l,D,A,T,z,aw,ae,X,ao,g,aq,Y,x,h,R,o,az,M,H,b,ad,an,d,am,ai,ay,I,B,at,L,k,f,V,C,au,e,S,ar,m,ag,Q,t;if((typeof a.RPXNOW!=="undefined")&&a.RPXNOW){return}s={};s.DEFAULT_BASE_URL="https://rpxnow.com/";aa=a.document;U=typeof a.ActiveXObject!=="undefined";r=aa.compatMode!=="CSS1Compat";n=(function(){var aD=a.navigator&&a.navigator.userAgent,aC=aD.match(/MSIE\s([^;]*)/),aE;if(aC&&aC[1]){aE=0;return(6===parseFloat(aC[1].replace(/\./g,function(){return(aE++===1)?"":"."})))}else{return false}}());ah=(function(){var aD="",aC=new RegExp("iphone|ipod|android|palm|blackberry|windows ce");try{aD=a.navigator.userAgent.toLowerCase()}catch(aE){}return aD.search(aC)!==-1}());D=aa.location.protocol==="https:";l=a.location.protocol.replace(/[:]$/,"");u=(D?"https://s3.amazonaws.com/static.rpxnow.com":"http://cdn.rpxnow.com");Z={bg_social:["rel/img/5d24af2656cb7d5bfc959225ed93f78e.png","rel/img/48225b514e12863809a27dbbd77e3bc9.gif"],bg_auth:["images/bg_auth.png/072e699dadea176ace38e1f39c8b1c6f.png","images/bg_auth.gif/59b67dc6128043d53a89808c2e08678a.gif"],lb_close:["images/close.png/94726c11718cedfae4b35ca5dfcf8971.png","images/close_ie.png/6e03cf22aa59b4844d0b78df3bc6787d.png"],lb_corners:["images/corners.png/47464b01c238fc81a5a537859e37e930.png","images/corners.gif/a5384cf51db4d3e85f3c4f95c546a9c5.gif"],lb_border:["images/border.png/01c40882d59520662e8cebae63d73a2c.png","images/border.gif/a7f3bf49b8e1d17d66a870e5b7d3b2b9.gif"],auth_background:["images/background.png/ce2da388a4e0fa1ef809b2c4cc4d5139.png","images/background.png/ce2da388a4e0fa1ef809b2c4cc4d5139.png"]};z=new RegExp("[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]","g");ae=new RegExp('[\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]',"g");al=["/",".","*","+","?","|","(",")","[","]","{","}","\\"];af=new RegExp("(\\"+al.join("|\\")+")","g");N=new RegExp("^https?://([a-z0-9]([\\-a-z0-9]*[a-z0-9])?\\.)*[a-z0-9]([\\-a-z0-9]*[a-z0-9])?(:[0-9]+)?(/[^?#]*(\\?[^#]*)?)?$","i");aB=new RegExp("^https?://([a-z0-9]([\\-a-z0-9]*[a-z0-9])?\\.)*[a-z0-9]([\\-a-z0-9]*[a-z0-9])?(:[0-9]+)?(/[^?#]*(\\?[^#]*)?)?(#.*)?$","i");ax=new RegExp("^/[^?#]*(\\?[^#]*)?$");aq=function(){return r?aa.body:aa.documentElement};Q=function(aC){return aa.createElement(aC)};o=function(aC){var aD=Z[aC][n?1:0];return u+"/"+aD};R=function(aC){return"url('"+o(aC)+"')"};x=function(aF,aC){var aD,aE=aF.style;for(aD in aC){if(Object.hasOwnProperty.call(aC,aD)){aE[aD]=aC[aD]}}};ag=null;H=function(){if(!ag){ag=Q("div");ag.setAttribute("id","FB_HiddenContainer");x(ag,{position:"absolute",top:"-10000px",left:"-10000px",width:"0",height:"0"});aa.body.insertBefore(ag,aa.body.firstChild)}return ag};b=function(aC,aD,aE){if(U){aD.attachEvent("on"+aC,aE)}else{aD.addEventListener(aC,aE,false)}};ad=function(aC,aD){b("click",aC,aD)};an=function(aC,aD){return function(){aC[aD].apply(aC,arguments)}};d=function(aC){return(Object.prototype.toString.apply(aC)==="[object Array]")};am=function(aC){return(typeof aC==="boolean")};ai=function(aC){return Object.prototype.toString.apply(aC)==="[object Function]"};ay=function(aC){return aC===null};I=function(aC){return typeof aC==="number"&&isFinite(aC)};B=function(aC){return(aC&&(typeof aC==="object"||ai(aC)))||false};at=function(aC){return typeof aC==="string"};L=function(aC){return typeof aC==="undefined"};k=function(aC,aE){for(var aD=0;aD<aC.length;aD++){if(aC[aD]===aE){return aD}}return -1};f=function(aC){if(a.console){a.console.log(aC)}};V=function(){if(I(a.innerHeight)){return a.innerHeight}else{return aq().clientHeight}};C=function(){if(I(a.innerWidth)){return a.innerWidth}else{return aq().clientWidth}};au=function(){return Math.max(aq().scrollHeight,V())};e=function(){return Math.max(aq().scrollWidth,C())};S=function(aF){var aE=new RegExp("([^=]+)=([^&]*)&?","g"),aD=null,aG=aF.match(/^[^?]*(?:\?([^#]*))?(?:$|#.*$)/)[1],aC={};while(!ay(aD=aE.exec(aG))){(aC[decodeURIComponent(aD[1])]=decodeURIComponent(aD[2]))}return aC};ar=function(aC){return aC.replace(af,"\\$1")};var F=function(aK,aI){var aF,aE,aD,aH,aC,aL,aM,aJ,aG;aM={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};aJ=aI[aK];aC=function(aN){ae.lastIndex=0;return ae.test(aN)?'"'+aN.replace(ae,function(aO){aG=aM[aO];return typeof aG==="string"?aG:"\\u"+("0000"+aO.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+aN+'"'};switch(typeof aJ){case"string":return aC(aJ);case"number":return isFinite(aJ)?String(aJ):"null";case"boolean":case"null":return String(aJ);case"object":if(!aJ){return"null"}aH=[];if(Object.prototype.toString.apply(aJ)==="[object Array]"){aD=aJ.length;for(aF=0;aF<aD;aF+=1){aH[aF]=F(aF,aJ)||"null"}aL=aH.length===0?"[]":"["+aH.join(",")+"]";return aL}for(aE in aJ){if(Object.hasOwnProperty.call(aJ,aE)){aL=F(aE,aJ);if(aL){aH.push(aC(aE)+":"+aL)}}}aL=aH.length===0?"{}":"{"+aH.join(",")+"}";return aL}throw new Error("What happened?.")},w=function(aC){return F("",{"":aC})},G=(function(){var aF,aD,aC={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"},aO,aM=function(aP){throw {name:"SyntaxError",message:aP,at:aF,text:aO}},aI=function(aP){if(aP&&aP!==aD){aM("Expected '"+aP+"' instead of '"+aD+"'")}aD=aO.charAt(aF);aF+=1;return aD},aH=function(){var aQ,aP="";if(aD==="-"){aP="-";aI("-")}while(aD>="0"&&aD<="9"){aP+=aD;aI()}if(aD==="."){aP+=".";while(aI()&&aD>="0"&&aD<="9"){aP+=aD}}if(aD==="e"||aD==="E"){aP+=aD;aI();if(aD==="-"||aD==="+"){aP+=aD;aI()}while(aD>="0"&&aD<="9"){aP+=aD;aI()}}aQ=+aP;if(isNaN(aQ)){aM("Bad number")}else{return aQ}},aJ=function(){var aS,aR,aQ="",aP;if(aD==='"'){while(aI()){if(aD==='"'){aI();return aQ}else{if(aD==="\\"){aI();if(aD==="u"){aP=0;for(aR=0;aR<4;aR+=1){aS=parseInt(aI(),16);if(!isFinite(aS)){break}aP=aP*16+aS}aQ+=String.fromCharCode(aP)}else{if(typeof aC[aD]==="string"){aQ+=aC[aD]}else{break}}}else{aQ+=aD}}}}aM("Bad string")},aL=function(){while(aD&&aD<=" "){aI()}},aE=function(){switch(aD){case"t":aI("t");aI("r");aI("u");aI("e");return true;case"f":aI("f");aI("a");aI("l");aI("s");aI("e");return false;case"n":aI("n");aI("u");aI("l");aI("l");return null}aM("Unexpected '"+aD+"'")},aN,aK=function(){var aP=[];if(aD==="["){aI("[");aL();if(aD==="]"){aI("]");return aP}while(aD){aP.push(aN());aL();if(aD==="]"){aI("]");return aP}aI(",");aL()}}aM("Bad array")},aG=function(){var aQ,aP={};if(aD==="{"){aI("{");aL();if(aD==="}"){aI("}");return aP}while(aD){aQ=aJ();aL();aI(":");if(Object.hasOwnProperty.call(aP,aQ)){aM('Duplicate key "'+aQ+'"')}aP[aQ]=aN();aL();if(aD==="}"){aI("}");return aP}aI(",");aL()}}aM("Bad object")};aN=function(){aL();switch(aD){case"{":return aG();case"[":return aK();case'"':return aJ();case"-":return aH();default:return aD>="0"&&aD<="9"?aH():aE()}};return function(aS,aQ){var aP;aO=aS;aF=0;aD=" ";aP=aN();aL();if(aD){aM("Syntax error")}return typeof aQ==="function"?(function aR(aW,aV){var aU,aT,aX=aW[aV];if(aX&&typeof aX==="object"){for(aU in aX){if(Object.hasOwnProperty.call(aX,aU)){aT=aR(aX,aU);if(aT!==undefined){aX[aU]=aT}else{delete aX[aU]}}}}return aQ.call(aW,aV,aX)}({"":aP},"")):aP}}());var j={fetch:function(aC,aE){var aD=this._newRequest();aD.onreadystatechange=function(){if(aD.readyState!==4){return}switch(aD.status){case 200:case 304:aE.success(aD.responseText);return;case -1:return;default:break}aE.failure(aD.status,aD.statusText,aD.responseText)};aD.open("GET",aC,true);aD.send(null)},_newRequest:function(){if(L(a.XMLHttpRequest)){try{return new a.ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(aF){}try{return new a.ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(aE){}try{return new a.ActiveXObject("Msxml2.XMLHTTP")}catch(aD){}try{return new a.ActiveXObject("Microsoft.XMLHTTP")}catch(aC){}throw new Error("This browser does not support XMLHttpRequest.")}else{return new a.XMLHttpRequest()}}};var ap={_cached:null,get:function(aC){return this._parsedCookies()[aC]},remove:function(aD,aC){aC=aC||{};aC.expires=new Date(0);return this.set(aD,"",aC)},set:function(aD,aE,aC){var aF=(encodeURIComponent(aD)+"="+encodeURIComponent(aE));if(B(aC)){if(aC.expires instanceof Date){aF+="; expires="+aC.expires.toGMTString()}if((aC.path)&&aC.path!==""){aF+="; path="+aC.path}if(at(aC.domain)&&aC.domain!==""){aF+="; domain="+aC.domain}if(aC.secure===true){aF+="; secure"}}aa.cookie=aF;return aF},_parsedCookies:function(){var aF,aL,aE,aG,aC,aK,aH,aD,aI;if(ay(this._cached)){aF=this._cached={};aL=aa.cookie;if(/[^=]+=[^=;]?(?:; [^=]+=[^=]?)?/.test(aL)){aE=aL.split(/;\s/g);aC=null;aK=null;aH=null;aD=null;for(aG=0,aI=aE.length;aG<aI;aG++){aD=aE[aG];aH=aD.match(/([^=]+)=(.*)/i);if(aH instanceof Array){try{aC=decodeURIComponent(aH[1].replace(/\+/g," "));aK=decodeURIComponent(aH[2].replace(/\+/g," "));aF[aC]=aK}catch(aJ){}}}}}return this._cached}};var y=function(aD){var aC;this.pairs=[];if(aD&&typeof aD==="object"){for(aC in aD){if(aD.hasOwnProperty(aC)){this.add(aC,aD[aC])}}}};y.prototype={add:function(aD,aE){var aC=encodeURIComponent;if(!L(aE)&&!ay(aE)){this.pairs.push([aC(aD),aC(aE)].join("="))}},toString:function(){return this.pairs.join("&")}};var K=function(aG,aH){var aF,aC,aE,aD;aF=this.formElem=Q("form");aC=this.submitElem=Q("input");aC.setAttribute("type","submit");aF.appendChild(aC);aE=H();aE.appendChild(aF);this.inputElems={};if(aG){this.setAction(aG)}if(aH&&aH instanceof Object){for(aD in aH){if(aH.hasOwnProperty(aD)){this.setHidden(aD,aH[aD])}}}};K.prototype={setAction:function(aC){this.formElem.setAttribute("action",aC)},setMethod:function(aC){this.formElem.setAttribute("method",aC)},setTarget:function(aC){this.formElem.setAttribute("target",aC)},setHidden:function(aC,aF){var aE,aD=this.inputElems;if(ay(aF)){this.deleteHidden(aC);return}aE=aD[aC];if(!aE){aE=aD[aC]=Q("input");aE.setAttribute("type","hidden");aE.setAttribute("name",aC);this.formElem.appendChild(aE)}aE.setAttribute("value",aF)},deleteHidden:function(aC){var aE=this.inputElems,aD=aE[aC];if(aD){this.formElem.removeChild(aD);aE.slice(k(aE,aD),1)}},submit:function(){this.submitElem.click()},submitTo:function(aC){this.setTarget(aC.getName());this.submit()}};var aj=function(){var aF,aC,aD,aE;aF=Q("div");aC=this.name=t();aD=H();aD.appendChild(aF);aE=n?s.config.baseUrl+"blank.html":"";aF.innerHTML=('<iframe src="'+aE+'" name="'+aC+'" id="'+aC+'"></iframe>');this.iframeElem=aa.getElementById(aC);if(U){a.frames[aC].name=aC}};aj.prototype={getName:function(){return this.name},setSrc:function(aC){this.iframeElem.setAttribute("src",aC)},addOnloadListener:function(aD){var aC=this.iframeElem;if(U){aC.onreadystatechange=function(){if(aC.readyState==="complete"){aD()}}}else{aC.addEventListener("load",aD,false)}}};var q=function(aE,aC,aD){this.width=aE;this.height=aC;this.window=null;if(L(aD)){this.name=t()}else{this.name=aD}this.closeListeners=[]};q.prototype={show:function(aC){var aF,aE,aD;if(!this.window){aF=this._getCenteredCoords();this.window=a.open(aC||"",this.name,"width="+this.width+",height="+this.height+",status=1,location=1,resizable=yes,left="+aF[0]+",top="+aF[1]);aE=this;aD=a.setInterval(function(){if(aE.window.closed){a.clearInterval(aD);aE._onClose()}},500)}},setLocation:function(aC){if(this.window){this.window.location.href=aC}},setSize:function(aD,aC){this.width=aD;this.height=aC;if(this.window){this.window.outerWidth=aD;this.window.outerHeight=aC}},close:function(){if(this.window){this.window.close()}},addCloseListener:function(aC){this.closeListeners.push(aC)},removeCloseListener:function(aC){this.closeListeners.splice(k(this.closeListeners,aC),1)},getName:function(){return this.name},focus:function(){this.window.focus()},_getCenteredCoords:function(){var aF,aC,aE,aD;aF=null;aC=null;if(U){aF=a.event.screenX-(this.width/2)+100;aC=a.event.screenY-(this.height/2)-100}else{aE=[a.outerWidth,a.outerHeight];aD=[a.screenX,a.screenY];aF=aD[0]+Math.max(0,Math.floor((aE[0]-this.width)/2));aC=a.screenY+15}return[aF,aC]},_onClose:function(){var aC,aD;for(aC=0;aC<this.closeListeners.length;aC++){aD=this.closeListeners[aC];aD()}}};var O=function(aR,aP,aO){var aS,aJ,aF,aH,aL,aE,aV,aG,aU,aQ,aD,aT,aC,aN,aI,aM,aK;aR.style.position="relative";aK=Q("div");aK.className="rpxnow_lightbox_trans";x(aK,{backgroundColor:"black",position:"absolute",top:0,left:0,width:"100%",height:"100%"});if(U){aK.style.filter="alpha(opacity=40)"}else{aC="0.4";x(aK,{opacity:aC,KhtmlOpacity:aC,MozOpacity:aC})}aE=Q("img");aE.src=o("lb_close");aE.alt="close";x(aE,{position:"absolute",top:"-4px",right:"-4px",cursor:"pointer",width:"34px",height:"34px"});aV=this.containerElem=Q("div");aV.className="rpxnow_lightbox_container";x(aV,{position:"absolute",display:"block",padding:"10px",width:(aP+(n&&r?20:0))+"px",height:(aO+(n&&r?20:0))+"px"});aG={position:"absolute",width:"20px",height:"20px",backgroundImage:R("lb_corners")};aJ={position:"absolute",backgroundImage:R("lb_border")};aI=Q("div");x(aI,aG);x(aI,{top:"0",left:"0"});aN=Q("div");x(aN,aJ);x(aN,{top:"0",left:"20px",width:(aP-20)+"px",height:"20px"});aM=Q("div");x(aM,aG);x(aM,{top:"0",right:"0",backgroundPosition:"top right"});aT=Q("div");x(aT,aJ);x(aT,{top:"20px",left:"0",width:(aP+20)+"px",height:(aO-20)+"px"});aH=Q("div");x(aH,aG);x(aH,{bottom:"0",left:"0",backgroundPosition:"0 -20px"});aF=Q("div");x(aF,aJ);x(aF,{bottom:"0",left:"20px",width:(aP-20)+"px",height:"20px"});aL=Q("div");x(aL,aG);x(aL,{bottom:"0",right:"0",backgroundPosition:"-20px -20px"});aU=[aI,aN,aM,aH,aF,aL,aT,aR,aE];for(aQ=0;aQ<aU.length;aQ++){aV.appendChild(aU[aQ])}aD=this.lightboxElem=Q("div");aD.className="rpxnow_lightbox";x(aD,{position:n?"absolute":"fixed",display:"none",top:0,left:0,zIndex:10000});aD.appendChild(aK);aD.appendChild(aV);aS=aa.body;if(aS.firstChild){aS.insertBefore(aD,aS.firstChild)}else{aS.appendChild(aD)}b("resize",a,an(this,"resize"));b("click",aE,an(this,"hide"));if(n){a.attachEvent("onscroll",an(this,"scroll"))}this.closeListeners=[]};O.currentInstance=null;O.close=function(){O.currentInstance.hide()};O.prototype={show:function(){if(O.currentInstance===null){O.currentInstance=this}else{return false}this.containerElem.style.visibility="hidden";this.resize();if(n){this.scroll()}this.lightboxElem.style.display="block";return true},hide:function(){var aC,aD;this.lightboxElem.style.display="none";O.currentInstance=null;for(aC=0;aC<this.closeListeners.length;aC++){aD=this.closeListeners[aC];aD()}},addCloseListener:function(aC){this.closeListeners.push(aC)},removeCloseListener:function(aC){this.closeListeners.splice(k(this.closeListeners,aC),1)},isVisible:function(){return(this.lightboxElem.style.display==="block")},resize:function(){var aD,aF,aE,aC;aD=C();aF=V();x(this.lightboxElem,{width:aD+"px",height:aF+"px"});aE=this.containerElem;aC=function(){var aG=n&&r?0:10;x(aE,{top:(((aF-aE.offsetHeight)/2)+aG)+"px",left:(((aD-aE.offsetWidth)/2)+aG)+"px",visibility:"visible"})};if(aE.style.visibility==="hidden"){a.setTimeout(aC,0)}else{aC()}},scroll:function(){var aC=aq();x(this.lightboxElem,{top:aC.scrollTop+"px",left:aC.scrollLeft+"px"})}};var av,E,J,i,ak,W,v,p,P;v=S(a.location.href);p=(v.flags||"").split(",");P=k(p,"stay_in_window")>-1;ak=function(aD){var aC=document.createElement("a");aC.href="http://"+aD+"/";return aC.hostname};av=function(aC,aD,aE){this.name=aC;this.popupWidth=aD;this.popupHeight=aE;this.base_params={}};av.prototype={_start:function(aD,aC,aK,aE){var aL,aJ,aH,aF,aI,aG;if(!aD){m.setLastLoginTab(this.providerName())}aG=new y(this.base_params);aG.add("flags",v.flags);aG.add("language_preference",v.language_preference);aG.add("openid_proxy_url",v.openid_proxy_url);aG.add("display","popup");aG.add("token_url",aC);aG.add("bp_channel",v.bp_channel);if(aE){for(aI in aE){if(Object.hasOwnProperty.call(aE,aI)){aG.add(aI,aE[aI])}}}aJ=null;aL=null;if(!ah){aG.add("callback",Y(function(aM){if(!ay(aJ)){a.clearInterval(aL);aJ.close()}aK(aM)}));aG.add("callbackScheme",l)}aH=this.startUrl()+"?"+aG.toString();if(aD){aF=new aj();aF.setSrc(aH)}else{if(ah){a.top.location.href=aH}else{aJ=new q(this.popupWidth,this.popupHeight,this.name);aJ.show(aH);aL=a.setInterval(function(){if(aJ.window.closed){a.clearInterval(aL);aK({stat:"fail",err:{code:-1}})}},1000)}}},startUrl:function(){return s.config.baseUrl+this.name+"/start"},providerName:function(){return this.name}};W=function(aC){return function(aD){if(aD.stat==="ok"){if(L(aC.success)){a.setTimeout(function(){if(P){a.location.href=aD.redirectUrl}else{a.top.location.href=aD.redirectUrl}},1)}else{aC.success(aD.redirectUrl)}}else{if(L(aC.error)){aC(aD.err)}else{aC.error(aD.err)}}}};i=function(aC,aD,aF,aH,aE,aG){av.call(this,"openid",aE,aG);this.prefix=aD;this.suffix=aF;this.isSubdomain=aH;this._immediate={};this._providerName=aC};ao=i.prototype=new av();ao.providerName=function(){return this._providerName};ao.immediate=function(aF){var aD,aC,aE;if(U){return}aD=m.getLastSuccessful();if(aD.providerName===this.providerName()){aE=this._inputToUrl(aD.userInput);aC=this;this._start(true,aF,function(aG){if(aG.stat==="ok"){aC._immediate.input=aD.userInput;aC._immediate.url=aG.redirectUrl}},{openid_identifier:aE,immediate:true})}};ao.start=function(aD,aG,aF){if(!ay(this._immediate.url)&&aD===this._immediate.input){if(P){a.location.href=this._immediate.url}else{a.top.location.href=this._immediate.url}return}m.setLastUserInput(aD);var aE=this._inputToUrl(aD);var aC=W(aF);this._start(false,aG,aC,{openid_identifier:aE})};ao._inputToUrl=function(aC){var aF,aD,aE;if(this.prefix.length>0||this.suffix.length>0){if(this.isSubdomain){aC=aC.toLowerCase();aF=aC.split(".");for(aE=0;aE<aF.length;aE++){aD=aF[aE];aD=aD.replace(/[\x00-\x2C\x2E\x2F\x3A-\x60\x7B-\x7F]/g,"");aF[aE]=aD.replace(/(^-|-$)/g,"")}aC=ak(aF.join("."))}else{aC=aC.replace(/^\s+|\s+$/g,"");aC=encodeURI(aC);aC=aC.replace("?","%3F").replace("#","%23")}}return this.prefix+aC+this.suffix};J=function(aC,aF,aD,aE){av.call(this,"openid",aD,aE);this._providerName=aC;this.identifierSelectUrl=aF;this.immediateUrl=null};g=J.prototype=new av();g.providerName=function(){return this._providerName};g.immediate=function(aF){if(U){return}var aE=m.getLastSuccessful();if(aE.providerName===this.providerName()){var aC=ap.get(this.providerName()+"_identifier");if(aC){var aD=this;this._start(true,aF,function(aG){if(aG.stat==="ok"){aD.immediateUrl=aG.redirectUrl}},{openid_identifier:aC,immediate:true})}}};g.start=function(aF,aE){if(!ay(this.immediateUrl)){if(P){a.location.href=this.immediateUrl}else{a.top.location.href=this.immediateUrl}return}var aD=ap.get(this.providerName()+"_identifier");if(!aD){aD=this.identifierSelectUrl}var aC=W(aE);this._start(false,aF,aC,{openid_identifier:aD})};g.startFresh=function(aE,aD){var aC=W(aD);this._start(false,aE,aC,{openid_identifier:this.identifierSelectUrl,force_reauth:true})};E=function(aD,aE,aC){av.call(this,aD,aE,aC)};T=E.prototype=new av();T.start=function(aF,aE,aD){var aC=W(aE);this._start(false,aF,aC,aD)};T.startFresh=function(aF,aE,aD){var aC=W(aE);if(ay(aD)||L(aD)){aD={force_reauth:true}}else{aD.force_reauth=true}this._start(false,aF,aC,aD)};m={setLastLoginTab:function(aC){var aD={expires:new Date(),path:"/"};aD.expires.setDate(aD.expires.getDate()+3650);ap.set("login_tab",aC,aD)},setLastUserInput:function(aC){var aD={expires:new Date(),path:"/"};aD.expires.setDate(aD.expires.getDate()+3650);ap.set("user_input",aC,aD)},getLastSuccessful:function(){var aC={providerName:ap.get("expected_tab"),userInput:ap.get("expected_user_input"),userName:null};var aE=ap.get("welcome_info");if(!ay(aE)){try{var aD=G(aE);if(aD[0]==="welcome_user"){aC.userName=aD[1].name}}catch(aF){}}return aC}};s.Auth={CustomProvider:E,OpenID2Provider:J,OpenID1Provider:i,CookieUserStateStore:m,providers:{aol:new i("aol","http://openid.aol.com/","",false,514,550),blogger:new i("blogger","","",false,800,600),livejournal:new i("livejournal","http://",".livejournal.com/",true,800,600),netlog:new i("netlog","http://netlog.com/","",false,800,600),openid:new i("openid","","",false,800,600),wordpress:new i("wordpress","http://",".wordpress.com/",true,800,600),flickr:new J("flickr","http://flickr.com/",500,500),google:new J("google","https://www.google.com/accounts/o8/id",450,500),hyves:new J("hyves","http://hyves.nl/",800,600),myopenid:new J("myopenid","http://myopenid.com/",800,600),verisign:new J("verisign","http://pip.verisignlabs.com/",800,600),yahoo:new J("yahoo","https://me.yahoo.com/",500,500),facebook:new E("facebook",500,500),live_id:new E("liveid",750,550),linkedin:new E("linkedin",750,550),myspace:new E("myspace",800,500),twitter:new E("twitter",800,500)}};s.Util={LightBox:O,PopupWindow:q,QueryBuilder:y,addListener:b,addClickListener:ad,bind:an,indexOf:k,parseQueryString:S};s._xdCallbacks=[];Y=function(aE){var aC,aD;aC=s._xdCallbacks.length;aD="RPXNOW._xdCallbacks["+aC+"]";s._xdCallbacks.push(function(aH){var aF,aG;aF=k(s._xdCallbacks,this);s._xdCallbacks[aF]=null;aG=G(aH);aE(aG)});return aD};M=function(aG,aC,aJ){var aH,aI,aE,aD,aF;aH=Y(aJ);aF=s.config.baseUrl.replace(/^https?/,l);aI=aF+"jsapi/v3/"+aG;aE=new K(aI,aC);aE.setHidden("xdReceiver",s.config.xdReceiver);aE.setHidden("callback",aH);if(s.config.baseUrl===s.DEFAULT_BASE_URL){aE.setHidden("appId",s.config.appId)}aD=new aj();aE.submitTo(aD)};aw=function(aG,aE,aF,aD,aC){aG.innerHTML=('<iframe src="'+(n?s.config.baseUrl+"blank.html":"")+'" name="'+aE+'" id="'+aE+'" style="width: '+aF+"px; height: "+aD+'px; background: transparent; position: absolute; top: 0; left: 0; visibility: hidden; display: none;" scrolling="no" frameBorder="0" allowTransparency="true"></iframe>');x(aG,{backgroundColor:"transparent",backgroundImage:R(aC),backgroundRepeat:"no-repeat",backgroundPosition:"top left",fontSize:"17px",textAlign:"center",width:aF+"px",height:aD+"px",overflow:"hidden",fontFamily:"'lucida grande', Helvetica, Verdana, sans-serif"})};h=function(aC,aD){if(U){aC.onreadystatechange=function(){if(aC.readyState==="complete"){aD.style.visibility="hidden";aC.style.visibility="visible";a.setTimeout(function(){aC.style.display="block"},1500)}}}else{aC.addEventListener("load",function(){aC.style.display="block";a.setTimeout(function(){aD.style.visibility="hidden";aC.style.visibility="visible"},1)},false)}};var aA=s.Social={publishActivity:function(aF,aM){var aE;if(ay(aF.title)){aF.setTitle(aa.title)}var aD=t();var aC=Q("div");var aG=new O(aC,423,280);aw(aC,aD,423,280,"bg_social");if(s.config.hasError()){var aK=Q("div");x(aK,{lineHeight:"306px",padding:"13px"});aK.appendChild(aa.createTextNode("Error: "+s.config.error));aC.appendChild(aK)}else{aC.style.lineHeight="280px";aE=Q("span");aE.appendChild(aa.createTextNode("Loading..."));aC.appendChild(aE)}var aH=aa.getElementById(aD);if(ai(aM)){aM={finishCallback:aM}}else{if(L(aM)){aM={}}else{if(!B(aM)){throw new Error("options must be an associative array")}else{if(!L(aM.finishCallback)&&!ai(aM.finishCallback)){throw new Error("finishCallback must be a function")}if(!L(aM.exclusionList)&&!d(aM.exclusionList)){throw new Error("exclusionList must be an array")}if(!L(aM.urlShortening)&&!am(aM.urlShortening)){throw new Error("urlShortening must be a boolean")}if(!L(aM.primaryKey)){if(!at(aM.primaryKey)){throw new Error("primaryKey must be a string")}if(L(aM.timestamp)){throw new Error("timestamp required for primaryKey")}if(!I(aM.timestamp)){throw new Error("timestamp must be an integer")}if(L(aM.signature)){throw new Error("signature required for primaryKey")}if(!at(aM.signature)){throw new Error("signature must be a string")}}}}}var aJ=null;if(!ai(aM.finishCallback)){aM.finishCallback=function(aN){}}var aI=function(aP){var aN=function(){aM.finishCallback(aP.publishResults)};if(!ay(s.config.tokenCallbackUrl)&&aP.authTokens.length>0){var aO=new K(s.config.tokenCallbackUrl);aO.setHidden("tokens",aP.authTokens);var aQ=new aj();aO.setTarget(aQ.getName());aQ.addOnloadListener(aN);aO.setMethod("POST");aO.submit()}else{a.setTimeout(aN,1)}};aJ=Y(aI);if(!s.config.hasError()){h(aH,aE);var aL=function(aQ){var aP,aO,aN;aP=s.config.baseUrl.replace(/^https?/,l);aO=aP+"social/publish_activity";aN=new K(aO);aN.setMethod("POST");aN.setHidden("activity",w(aF));aN.setHidden("sessid",aQ.sessid);aN.setHidden("appId",s.config.appId);aN.setHidden("language_preference",s.language_preference);if(!L(aM.exclusionList)){aN.setHidden("exclusionList",aM.exclusionList.join())}if(!L(aM.urlShortening)){aN.setHidden("urlShortening",aM.urlShortening)}if(!L(aM.primaryKey)){aN.setHidden("primaryKey",aM.primaryKey);aN.setHidden("timestamp",aM.timestamp);aN.setHidden("signature",aM.signature)}aN.setHidden("xdReceiver",s.config.xdReceiver);aN.setHidden("callback",aJ);aN.setTarget(aD);aN.submit()};M("popup_session",{},aL)}aG.show();return false},clearSocialCookies:function(aD){if(!L(aD)){if(!ay(aD)&&!N.test(aD)){throw new Error("The dest must be an absolute URL")}var aC=new RegExp("^https?://"+ar(aa.location.host)+"/");if(!ay(aD)&&!aC.test(aD)){throw new Error("dest host does not match the current page.")}}var aG=s.config.baseUrl+"social/logout";var aF=new K(aG);aF.setHidden("appId",s.config.appId);var aE=new aj();aF.setTarget(aE.getName());if(!L(aD)){aE.addOnloadListener(function(){a.top.location.href=aD})}aF.submit();return false}};aA.Activity=function(aD,aE,aC){if(!at(aD)){throw new Error("a non-null share_display string is required.")}this.share_display=aD;if(!at(aE)){throw new Error("a non-null action string must be provided.")}this.action=aE;if(!at(aC)||!aB.test(aC)){throw new Error("a valid url must be provided.")}this.url=aC;this.provider_urls={};this.title=null;this.description=null;this.user_generated_content=null;this.properties={};this.action_links=[];this.media=null};aA.Activity.prototype={setTitle:function(aC){if(!at(aC)){throw new Error("title must be a string")}this.title=aC},setDescription:function(aC){if(!at(aC)){throw new Error("description must be a string")}this.description=aC},setUserGeneratedContent:function(aC){if(!at(aC)){throw new Error("user_generated_content must be a string")}this.user_generated_content=aC},addActionLink:function(aD,aC){if(!at(aC)||!aB.test(aC)){throw new Error("a valid url must be provided.")}this.action_links.push({text:aD,href:aC})},addTextProperty:function(aC,aD){if(!at(aC)||!at(aD)){throw new Error("The name and text must be strings")}this.properties[aC]=aD},addLinkProperty:function(aD,aE,aC){if(!at(aD)||!at(aE)){throw new Error("The name and text must be strings")}if(!at(aC)||!aB.test(aC)){throw new Error("a valid url must be provided.")}this.properties[aD]={text:aE,href:aC}},setMediaItem:function(aC){this.media=aC.toMediaArray()},addProviderUrl:function(aD,aC){if(!at(aD)){throw new Error("a valid provider must be provided.")}if(!at(aC)||!aB.test(aC)){throw new Error("a valid url must be provided.")}this.provider_urls[aD]=aC}};aA.Mp3MediaItem=function(aF,aE,aC,aD){if(!at(aF)||!N.test(aF)){throw new Error("The src must be a valid url")}this.type="mp3";this.src=aF;if(at(aE)){this.title=aE}if(at(aC)){this.artist=aC}if(at(aD)){this.album=aD}};aA.Mp3MediaItem.prototype={toMediaArray:function(){return[this]},setTitle:function(aC){this.title=aC},setArtist:function(aC){this.artist=aC},setAlbum:function(aC){this.album=aC}};aA.VideoMediaItem=function(aD,aC,aE,aF){if(!at(aD)||!N.test(aD)){throw new Error("video_src must be a valid url")}if(!at(aC)||!N.test(aC)){throw new Error("preview_img must be a valid url")}this.type="video";this.video_src=aD;this.preview_img=aC;if(at(aE)){if(!aB.test(aE)){throw new Error("video_link must be a valid url if provided")}}if(at(aF)){this.video_title=aF}};aA.VideoMediaItem.prototype={toMediaArray:function(){return[this]},setVideoLink:function(aC){if(!at(aC)||!aB.test(aC)){throw new Error("video_link must be a valid url")}},setVideoTitle:function(aC){this.video_title=aC}};aA.FlashMediaItem=function(aG,aH,aF,aD,aE,aC){if(!at(aG)||!N.test(aG)){throw new Error("swfsrc must be a valid url")}if(!at(aH)||!N.test(aH)){throw new Error("preview_img must be a valid url")}this.type="flash";this.swfsrc=aG;this.imgsrc=aH;if(at(aF)||I(aF)){this.width=""+aF}if(at(aD)||I(aD)){this.height=""+aD}if(at(aE)||I(aE)){this.expanded_width=""+aE}if(at(aC)||I(aC)){this.expanded_height=""+aC}};aA.FlashMediaItem.prototype={toMediaArray:function(){return[this]},setWidth:function(aC){if(!at(aC)&&!I(aC)){throw new Error("width must be a number")}this.width=""+aC},setHeight:function(aC){if(!at(aC)&&!I(aC)){throw new Error("height must be a number")}this.height=""+aC},setExpandedWidth:function(aC){if(!at(aC)&&!I(aC)){throw new Error("expanded_width must be a number")}this.expanded_width=""+aC},setExpandedHeight:function(aC){if(!at(aC)&&!I(aC)){throw new Error("expanded_height must be a number")}this.expanded_height=""+aC}};aA.ImageMediaCollection=function(){this.images=[]};aA.ImageMediaCollection.prototype={toMediaArray:function(){return this.images},addImage:function(aD,aC){if(this.images.length>=5){throw new Error("Cannot have more than 5 images.")}if(!at(aD)||!N.test(aD)){throw new Error("src must be a valid url")}if(!at(aC)||!aB.test(aC)){throw new Error("href must be a valid url")}this.images.push({type:"image",src:aD,href:aC})}};ab=function(){this.appId=null;this.xdReceiver=null;this.baseUrl=s.DEFAULT_BASE_URL;this.error=null;this.tokenCallbackUrl=null};ab.prototype={initialize:function(aD,aC,aE){this.appId=aD;this.xdReceiver=aC;this.tokenCallbackUrl=aE},setError:function(aC){this.error=aC},hasError:function(){return !ay(this.error)}};if((L(s.config))||!s.config){s.config=new ab()}A=[];az=function(aC){if(s.config.baseUrl===s.DEFAULT_BASE_URL){A.push(aC)}else{aC()}};s.loadAndRun=function(aC,aD){az(aD)};s.init=function(aD,aH){var aK,aE,aI,aF,aG=null,aJ=null,aC=aa.location;if(B(aD)){aK=aD.appId;aE=aD.xdReceiver;aG=aD.baseUrl;aJ=aD.tokenCallbackUrl}else{aK=aD;aE=aH}if(L(aE)){aE=aC.protocol+"//"+aC.host+"/rpx_xdcomm.html"}else{if(N.test(aE)){aI=new RegExp("^https?://"+ar(aC.host)+"/");if(!aI.test(aE)){throw new Error("RPXNow:init: xdReceiver host does not match.")}}else{if(ax.test(aE)){aE=aC.protocol+"//"+aC.host+aE}else{throw new Error("RPXNow:init: xdReceiver must be either an absolute URL or a relative URL path starting with /.")}}}if(aG){s.config.baseUrl=s.DEFAULT_BASE_URL=aG}s.config.initialize(aK,aE,aJ);aF={success:function(aL){var aN,aM,aO;s.config.initialize(aK,aE,aJ);s._base_cb=function(aR,aQ){if(aR){s.config.baseUrl=aQ}else{s.config.setError(aQ)}var aP=A.shift();while(ai(aP)){aP();aP=A.shift()}};aO=s.DEFAULT_BASE_URL.replace(/^https?/,l);aN=aO+"jsapi/v3/base_url";aN+="?appId="+aK;aN+="&xdReceiver="+a.escape(aE);aM=Q("script");aM.src=aN;aM.type="text/javascript";aa.body.appendChild(aM)},failure:function(aN,aM,aL){s.config.setError("unable to load "+aE)}};j.fetch(aE,aF)};s.loaded=false;s.show=function(){s.show_on_load=true};s.always_open=false;s.overlay=false;s.language_preference="en";s.default_provider=null;s.lso_submit_action=null;s.token_url=null;s.realm=null;s.domain=null;s.flags=null;s.bp_channel=null;s.email=null;s.openid_proxy_url=null;s.ssl=null;s._frame_count=(new Date()).getTime();t=function(){var aC=s._frame_count+=1;return"janrain_"+aC};ac=["token_url","language_preference","user_identifier","flags","bp_channel","default_provider","email","openid_proxy_url"];X=function(aD,aF){var aK,aH,aI,aE,aJ,aC;if(!N.test(aD)){f(aD);f("Error - token_url must be an absolute URL with no fragment.")}aK=s.config.baseUrl.split("/")[2];aH=null;if(s.rp_id){aH=s.rp_id}else{if(s.domain){aK=s.domain}else{if(s.realm){if(s.realm.match(/\./)){aK=s.realm}else{aK=s.realm+"."+aK}}else{if(aF){aK=aF}}}}aI=new y();aI.add("token_url",aD);aE=ay(s.ssl)?l:(s.ssl?"https":"http");aJ=aE+"://"+aK+"/openid/embed?";if(aH){aI.add("rp_id",aH)}for(aC=0;aC<ac.length;aC++){var aG=ac[aC];if(aG!=="token_url"&&s[aG]){aI.add(aG,s[aG])}}return aJ+aI.toString()};c={bg:"Зареждане",cs:"Nacitani",da:"Indl?ser",de:"Lade",el:"loading",en:"Loading",es:"Cargando",et:"Laetakse",fi:"Ladataan",fr:"Chargement",hr:"Ucitavanje",hu:"Betoltes",it:"Caricamento",ja:"????????",ko:"??",nl:"Laden",no:"Laster",pl:"Loading",pt:"Carregando","pt-BR":"Carregando",ro:"Incarcare",ru:"Загрузка",sr:"Ucitavam","sv-SE":"Laddar",vi:"Dang t?i",zh:"???","zh-CHT":"???"};b("load",a,function(){var aD,aF,aG,aC,aE;aE=function(aI){var aL,aK,aH,aJ;aH=aI.href;aJ=aH.match(/https?:\/\/([^\/]+)/);if(!s.token_url){aL=S(aH).token_url}if(aJ!==null){aK=aJ[1]}aI.onclick=function(){s.show(aL,aK);return false}};s.show=function(aK,aP){var aL,aR,aJ,aI,aM,aN,aQ,aO,aH;if(O.currentInstance!==null){return false}if(L(aK)){aK=s.token_url}aQ=c[s.language_preference];if(!aQ){aQ=c.en}aL=373;aR=265;aJ=t();aI=Q("div");aN=new O(aI,aL,aR);aw(aI,aJ,aL,aR,"bg_auth");aI.style.lineHeight=aR+"px";aM=Q("span");aM.appendChild(aa.createTextNode(aQ+"..."));aI.appendChild(aM);aO=aa.getElementById(aJ);aO.style.marginTop="12px";h(aO,aM);aN.show();aH=X(aK,aP);aO.contentWindow.location.replace(aH);if(!aK){f("Error - RPXNOW.token_url is undefined.")}return false};aF=aa.getElementsByTagName("a");aG=new RegExp("(^|\\s)rpxnow(\\s|$)");for(aD=0;aD<aF.length;aD++){aC=aF[aD];if(aG.test(aC.className)){aE(aC)}}if(s.show_on_load||s.always_open){s.show()}});a.RPXNOW=s}(this));